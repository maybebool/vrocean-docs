"use strict";(globalThis.webpackChunkvrocean_docs=globalThis.webpackChunkvrocean_docs||[]).push([[569],{8453(e,n,r){r.d(n,{R:()=>d,x:()=>t});var i=r(6540);const s={},l=i.createContext(s);function d(e){const n=i.useContext(l);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:d(e.components),i.createElement(l.Provider,{value:n},e.children)}},9969(e,n,r){r.r(n),r.d(n,{assets:()=>c,contentTitle:()=>t,default:()=>o,frontMatter:()=>d,metadata:()=>i,toc:()=>a});const i=JSON.parse('{"id":"optimization/quality-presets","title":"Quality Presets","description":"The SurfaceLodRenderer component provides four quality presets that control mesh density and LOD behavior. This page explains each preset in detail and provides guidance for custom configurations.","source":"@site/docs/optimization/quality-presets.md","sourceDirName":"optimization","slug":"/optimization/quality-presets","permalink":"/vrocean-docs/docs/optimization/quality-presets","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2,"title":"Quality Presets"},"sidebar":"tutorialSidebar","previous":{"title":"VR Performance","permalink":"/vrocean-docs/docs/optimization/vr-performance"}}');var s=r(4848),l=r(8453);const d={sidebar_position:2,title:"Quality Presets"},t="Quality Presets",c={},a=[{value:"Preset Overview",id:"preset-overview",level:2},{value:"Preset Parameters Explained",id:"preset-parameters-explained",level:2},{value:"Vertices Per Patch",id:"vertices-per-patch",level:3},{value:"LOD Threshold",id:"lod-threshold",level:3},{value:"Cull Scale",id:"cull-scale",level:3},{value:"Low Preset",id:"low-preset",level:2},{value:"Medium Preset",id:"medium-preset",level:2},{value:"High Preset",id:"high-preset",level:2},{value:"Ultra Preset",id:"ultra-preset",level:2},{value:"Performance Comparison",id:"performance-comparison",level:2},{value:"Custom Configurations",id:"custom-configurations",level:2},{value:"Custom Vertex Count",id:"custom-vertex-count",level:3},{value:"Adjusting LOD Behavior",id:"adjusting-lod-behavior",level:3},{value:"Dynamic Quality Adjustment",id:"dynamic-quality-adjustment",level:2},{value:"Quality and Simulation Resolution",id:"quality-and-simulation-resolution",level:2},{value:"Preset Selection Guide",id:"preset-selection-guide",level:2},{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"Visible Polygon Edges",id:"visible-polygon-edges",level:3},{value:"Too Many Draw Calls",id:"too-many-draw-calls",level:3},{value:"Popping at Screen Edges",id:"popping-at-screen-edges",level:3},{value:"Performance Varies by View Direction",id:"performance-varies-by-view-direction",level:3},{value:"Next Steps",id:"next-steps",level:2}];function h(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,l.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"quality-presets",children:"Quality Presets"})}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.code,{children:"SurfaceLodRenderer"})," component provides four quality presets that control mesh density and LOD behavior. This page explains each preset in detail and provides guidance for custom configurations."]}),"\n",(0,s.jsx)(n.h2,{id:"preset-overview",children:"Preset Overview"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Preset"}),(0,s.jsx)(n.th,{children:"Vertices/Patch"}),(0,s.jsx)(n.th,{children:"LOD Threshold"}),(0,s.jsx)(n.th,{children:"Cull Scale"}),(0,s.jsx)(n.th,{children:"Target Platform"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Low"}),(0,s.jsx)(n.td,{children:"16x16 (289)"}),(0,s.jsx)(n.td,{children:"2.0"}),(0,s.jsx)(n.td,{children:"1.2"}),(0,s.jsx)(n.td,{children:"Quest standalone"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Medium"}),(0,s.jsx)(n.td,{children:"32x32 (1,089)"}),(0,s.jsx)(n.td,{children:"1.5"}),(0,s.jsx)(n.td,{children:"1.5"}),(0,s.jsx)(n.td,{children:"Quest / Low-end PC"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"High"}),(0,s.jsx)(n.td,{children:"64x64 (4,225)"}),(0,s.jsx)(n.td,{children:"1.2"}),(0,s.jsx)(n.td,{children:"1.8"}),(0,s.jsx)(n.td,{children:"PC VR"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Ultra"}),(0,s.jsx)(n.td,{children:"64x64 (4,225)"}),(0,s.jsx)(n.td,{children:"1.0"}),(0,s.jsx)(n.td,{children:"2.0"}),(0,s.jsx)(n.td,{children:"High-end PC"})]})]})]}),"\n",(0,s.jsx)(n.h2,{id:"preset-parameters-explained",children:"Preset Parameters Explained"}),"\n",(0,s.jsx)(n.h3,{id:"vertices-per-patch",children:"Vertices Per Patch"}),"\n",(0,s.jsx)(n.p,{children:"The grid resolution of each rendered ocean patch."}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Value"}),(0,s.jsx)(n.th,{children:"Grid"}),(0,s.jsx)(n.th,{children:"Triangles/Patch"}),(0,s.jsx)(n.th,{children:"Visual Quality"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"16"}),(0,s.jsx)(n.td,{children:"17x17"}),(0,s.jsx)(n.td,{children:"~512"}),(0,s.jsx)(n.td,{children:"Visible faceting at close range"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"32"}),(0,s.jsx)(n.td,{children:"33x33"}),(0,s.jsx)(n.td,{children:"~2,048"}),(0,s.jsx)(n.td,{children:"Smooth at typical distances"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"64"}),(0,s.jsx)(n.td,{children:"65x65"}),(0,s.jsx)(n.td,{children:"~8,192"}),(0,s.jsx)(n.td,{children:"Very smooth, high detail"})]})]})]}),"\n",(0,s.jsx)(n.p,{children:"Higher vertex counts create smoother wave surfaces but increase GPU vertex processing cost."}),"\n",(0,s.jsx)(n.h3,{id:"lod-threshold",children:"LOD Threshold"}),"\n",(0,s.jsx)(n.p,{children:"Controls when patches subdivide based on camera distance."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"Subdivision occurs when: cameraDistance < (patchSize * LODThreshold)\n"})}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Value"}),(0,s.jsx)(n.th,{children:"Effect"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"2.0"}),(0,s.jsx)(n.td,{children:"Subdivide only when very close (fewer patches, lower quality)"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"1.5"}),(0,s.jsx)(n.td,{children:"Balanced subdivision distance"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"1.2"}),(0,s.jsx)(n.td,{children:"Subdivide at moderate distance (more patches, higher quality)"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"1.0"}),(0,s.jsx)(n.td,{children:"Subdivide aggressively (maximum patches, highest quality)"})]})]})]}),"\n",(0,s.jsx)(n.p,{children:"Lower threshold values increase detail at distance but render more patches."}),"\n",(0,s.jsx)(n.h3,{id:"cull-scale",children:"Cull Scale"}),"\n",(0,s.jsx)(n.p,{children:"Multiplier for frustum culling bounding boxes."}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Value"}),(0,s.jsx)(n.th,{children:"Effect"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"1.0"}),(0,s.jsx)(n.td,{children:"Tight culling (may cause popping at screen edges)"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"1.2"}),(0,s.jsx)(n.td,{children:"Slight padding"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"1.5"}),(0,s.jsx)(n.td,{children:"Moderate padding"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"2.0"}),(0,s.jsx)(n.td,{children:"Conservative culling (renders some off-screen patches)"})]})]})]}),"\n",(0,s.jsx)(n.p,{children:"Higher values prevent patches from popping in at screen edges but waste GPU cycles on non-visible geometry."}),"\n",(0,s.jsx)(n.h2,{id:"low-preset",children:"Low Preset"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-csharp",children:"Vertices: 16\r\nLODThreshold: 2.0\r\nCullScale: 1.2\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Characteristics:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Minimum mesh density"}),"\n",(0,s.jsx)(n.li,{children:"Aggressive LOD reduction"}),"\n",(0,s.jsx)(n.li,{children:"Tight frustum culling"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Performance:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"~5,000-10,000 vertices typical"}),"\n",(0,s.jsx)(n.li,{children:"~20-40 draw calls"}),"\n",(0,s.jsx)(n.li,{children:"Minimal GPU impact"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Visual Quality:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Visible polygon edges at close range"}),"\n",(0,s.jsx)(n.li,{children:"Lower wave detail"}),"\n",(0,s.jsx)(n.li,{children:"Acceptable for mobile VR where frame rate is critical"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Best For:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Quest 2 standalone"}),"\n",(0,s.jsx)(n.li,{children:"Quest 3 at 120 Hz"}),"\n",(0,s.jsx)(n.li,{children:"Scenes with many other rendering demands"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-csharp",children:"renderer.Quality = SurfaceLodRenderer.QualityLevel.Low;\n"})}),"\n",(0,s.jsx)(n.h2,{id:"medium-preset",children:"Medium Preset"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-csharp",children:"Vertices: 32\r\nLODThreshold: 1.5\r\nCullScale: 1.5\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Characteristics:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Balanced mesh density"}),"\n",(0,s.jsx)(n.li,{children:"Moderate LOD transitions"}),"\n",(0,s.jsx)(n.li,{children:"Reasonable culling padding"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Performance:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"~20,000-40,000 vertices typical"}),"\n",(0,s.jsx)(n.li,{children:"~25-50 draw calls"}),"\n",(0,s.jsx)(n.li,{children:"Low-moderate GPU impact"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Visual Quality:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Smooth surface at typical viewing distances"}),"\n",(0,s.jsx)(n.li,{children:"Good wave detail"}),"\n",(0,s.jsx)(n.li,{children:"Minor faceting only at very close range"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Best For:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Quest 3 at 72-90 Hz"}),"\n",(0,s.jsx)(n.li,{children:"PC VR with limited GPU headroom"}),"\n",(0,s.jsx)(n.li,{children:"Default choice for most VR projects"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-csharp",children:"renderer.Quality = SurfaceLodRenderer.QualityLevel.Medium;\n"})}),"\n",(0,s.jsx)(n.h2,{id:"high-preset",children:"High Preset"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-csharp",children:"Vertices: 64\r\nLODThreshold: 1.2\r\nCullScale: 1.8\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Characteristics:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"High mesh density"}),"\n",(0,s.jsx)(n.li,{children:"More subdivision at distance"}),"\n",(0,s.jsx)(n.li,{children:"Conservative culling"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Performance:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"~80,000-150,000 vertices typical"}),"\n",(0,s.jsx)(n.li,{children:"~30-60 draw calls"}),"\n",(0,s.jsx)(n.li,{children:"Moderate GPU impact"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Visual Quality:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Very smooth surface"}),"\n",(0,s.jsx)(n.li,{children:"High wave detail at all distances"}),"\n",(0,s.jsx)(n.li,{children:"No visible faceting"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Best For:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"PC VR with mid-range GPU"}),"\n",(0,s.jsx)(n.li,{children:"Dedicated ocean experiences"}),"\n",(0,s.jsx)(n.li,{children:"When ocean is a visual focus"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-csharp",children:"renderer.Quality = SurfaceLodRenderer.QualityLevel.High;\n"})}),"\n",(0,s.jsx)(n.h2,{id:"ultra-preset",children:"Ultra Preset"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-csharp",children:"Vertices: 64\r\nLODThreshold: 1.0\r\nCullScale: 2.0\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Characteristics:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Maximum mesh density"}),"\n",(0,s.jsx)(n.li,{children:"Aggressive subdivision (always subdivide when possible)"}),"\n",(0,s.jsx)(n.li,{children:"Very conservative culling"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Performance:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"~150,000-250,000 vertices typical"}),"\n",(0,s.jsx)(n.li,{children:"~40-80 draw calls"}),"\n",(0,s.jsx)(n.li,{children:"Significant GPU impact"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Visual Quality:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Maximum surface smoothness"}),"\n",(0,s.jsx)(n.li,{children:"Highest wave detail"}),"\n",(0,s.jsx)(n.li,{children:"Best possible visual quality"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Best For:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"High-end PC VR (RTX 3080+)"}),"\n",(0,s.jsx)(n.li,{children:"Cinematic experiences"}),"\n",(0,s.jsx)(n.li,{children:"Screenshots and video capture"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-csharp",children:"renderer.Quality = SurfaceLodRenderer.QualityLevel.Ultra;\n"})}),"\n",(0,s.jsx)(n.h2,{id:"performance-comparison",children:"Performance Comparison"}),"\n",(0,s.jsx)(n.p,{children:"Measured on Quest 3 at 1024m ocean size:"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Preset"}),(0,s.jsx)(n.th,{children:"Vertices"}),(0,s.jsx)(n.th,{children:"Draw Calls"}),(0,s.jsx)(n.th,{children:"GPU Time"}),(0,s.jsx)(n.th,{children:"Frame Rate Impact"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Low"}),(0,s.jsx)(n.td,{children:"8,200"}),(0,s.jsx)(n.td,{children:"24"}),(0,s.jsx)(n.td,{children:"0.8 ms"}),(0,s.jsx)(n.td,{children:"Minimal"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Medium"}),(0,s.jsx)(n.td,{children:"32,400"}),(0,s.jsx)(n.td,{children:"38"}),(0,s.jsx)(n.td,{children:"1.4 ms"}),(0,s.jsx)(n.td,{children:"Low"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"High"}),(0,s.jsx)(n.td,{children:"98,000"}),(0,s.jsx)(n.td,{children:"52"}),(0,s.jsx)(n.td,{children:"2.8 ms"}),(0,s.jsx)(n.td,{children:"Moderate"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Ultra"}),(0,s.jsx)(n.td,{children:"186,000"}),(0,s.jsx)(n.td,{children:"71"}),(0,s.jsx)(n.td,{children:"4.2 ms"}),(0,s.jsx)(n.td,{children:"Significant"})]})]})]}),"\n",(0,s.jsx)(n.p,{children:"Measured on RTX 3070 at 2048m ocean size:"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Preset"}),(0,s.jsx)(n.th,{children:"Vertices"}),(0,s.jsx)(n.th,{children:"Draw Calls"}),(0,s.jsx)(n.th,{children:"GPU Time"}),(0,s.jsx)(n.th,{children:"Frame Rate Impact"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Low"}),(0,s.jsx)(n.td,{children:"12,400"}),(0,s.jsx)(n.td,{children:"32"}),(0,s.jsx)(n.td,{children:"0.3 ms"}),(0,s.jsx)(n.td,{children:"Negligible"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Medium"}),(0,s.jsx)(n.td,{children:"48,600"}),(0,s.jsx)(n.td,{children:"54"}),(0,s.jsx)(n.td,{children:"0.6 ms"}),(0,s.jsx)(n.td,{children:"Minimal"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"High"}),(0,s.jsx)(n.td,{children:"142,000"}),(0,s.jsx)(n.td,{children:"78"}),(0,s.jsx)(n.td,{children:"1.2 ms"}),(0,s.jsx)(n.td,{children:"Low"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Ultra"}),(0,s.jsx)(n.td,{children:"268,000"}),(0,s.jsx)(n.td,{children:"104"}),(0,s.jsx)(n.td,{children:"2.1 ms"}),(0,s.jsx)(n.td,{children:"Moderate"})]})]})]}),"\n",(0,s.jsx)(n.h2,{id:"custom-configurations",children:"Custom Configurations"}),"\n",(0,s.jsx)(n.p,{children:"For fine-tuned control, access the underlying parameters directly:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-csharp",children:"using PlatypusIdeas.VROcean.Runtime.Scripts.Ocean;\r\nusing System.Reflection;\r\n\r\npublic class CustomQualityConfig : MonoBehaviour\r\n{\r\n    [SerializeField] private SurfaceLodRenderer renderer;\r\n\r\n    // Note: Quality presets are defined in a static dictionary\r\n    // For custom values, modify the renderer's behavior via:\r\n\r\n    public void ApplyCustomQuality()\r\n    {\r\n        // Set base quality then override via ocean size and LOD\r\n        renderer.Quality = SurfaceLodRenderer.QualityLevel.Medium;\r\n        renderer.OceanSize = 768f; // Custom size\r\n        \r\n        // Force version increment to rebuild meshes\r\n        renderer.Version++;\r\n    }\r\n}\n"})}),"\n",(0,s.jsx)(n.h3,{id:"custom-vertex-count",children:"Custom Vertex Count"}),"\n",(0,s.jsx)(n.p,{children:"The vertex count is tied to the quality preset. To use a different count, you would need to modify the source or create a custom renderer variant."}),"\n",(0,s.jsx)(n.p,{children:"Recommended approach: Choose the preset with the closest vertex count, then adjust LOD threshold behavior via ocean size."}),"\n",(0,s.jsx)(n.h3,{id:"adjusting-lod-behavior",children:"Adjusting LOD Behavior"}),"\n",(0,s.jsx)(n.p,{children:"While LOD threshold is preset-bound, you can influence LOD behavior through:"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Ocean Size:"}),"\r\nSmaller ocean = fewer LOD levels = less subdivision regardless of threshold."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-csharp",children:"// Fewer LOD levels, effectively reducing detail\r\nrenderer.OceanSize = 512f;\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"LOD Level Override:"}),"\r\nCap the maximum LOD depth:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-csharp",children:"// Inspector field: LOD Level Override\r\n// 0 = automatic, 1-12 = manual cap\r\nrenderer.lodLevelOverride = 4; // Max 4 subdivision levels\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Camera Distance:"}),"\r\nLOD is camera-relative. Moving the camera affects subdivision."]}),"\n",(0,s.jsx)(n.h2,{id:"dynamic-quality-adjustment",children:"Dynamic Quality Adjustment"}),"\n",(0,s.jsx)(n.p,{children:"Adjust quality based on runtime performance:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-csharp",children:'using UnityEngine;\r\nusing PlatypusIdeas.VROcean.Runtime.Scripts.Ocean;\r\n\r\npublic class DynamicQuality : MonoBehaviour\r\n{\r\n    [SerializeField] private SurfaceLodRenderer renderer;\r\n\r\n    private float[] frameTimeHistory = new float[30];\r\n    private int historyIndex = 0;\r\n\r\n    private const float TargetFrameTime = 0.0111f; // 90 fps\r\n    private const float DowngradeThreshold = 0.013f; // Below 77 fps\r\n    private const float UpgradeThreshold = 0.009f; // Above 111 fps\r\n\r\n    void Update()\r\n    {\r\n        // Track frame times\r\n        frameTimeHistory[historyIndex] = Time.unscaledDeltaTime;\r\n        historyIndex = (historyIndex + 1) % frameTimeHistory.Length;\r\n\r\n        // Check every 30 frames\r\n        if (historyIndex == 0)\r\n        {\r\n            EvaluateQuality();\r\n        }\r\n    }\r\n\r\n    void EvaluateQuality()\r\n    {\r\n        float avgFrameTime = 0f;\r\n        foreach (float t in frameTimeHistory)\r\n        {\r\n            avgFrameTime += t;\r\n        }\r\n        avgFrameTime /= frameTimeHistory.Length;\r\n\r\n        var currentQuality = renderer.Quality;\r\n\r\n        if (avgFrameTime > DowngradeThreshold && currentQuality > SurfaceLodRenderer.QualityLevel.Low)\r\n        {\r\n            renderer.Quality = currentQuality - 1;\r\n            Debug.Log($"Ocean quality reduced to {renderer.Quality}");\r\n        }\r\n        else if (avgFrameTime < UpgradeThreshold && currentQuality < SurfaceLodRenderer.QualityLevel.Ultra)\r\n        {\r\n            renderer.Quality = currentQuality + 1;\r\n            Debug.Log($"Ocean quality increased to {renderer.Quality}");\r\n        }\r\n    }\r\n}\n'})}),"\n",(0,s.jsx)(n.h2,{id:"quality-and-simulation-resolution",children:"Quality and Simulation Resolution"}),"\n",(0,s.jsx)(n.p,{children:"Quality presets affect rendering only. Combine with appropriate simulation resolution:"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Use Case"}),(0,s.jsx)(n.th,{children:"Simulation"}),(0,s.jsx)(n.th,{children:"Rendering"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Quest Standalone"}),(0,s.jsx)(n.td,{children:"64x64"}),(0,s.jsx)(n.td,{children:"Low"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Quest Quality"}),(0,s.jsx)(n.td,{children:"64x64"}),(0,s.jsx)(n.td,{children:"Medium"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"PC VR Balanced"}),(0,s.jsx)(n.td,{children:"128x128"}),(0,s.jsx)(n.td,{children:"Medium"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"PC VR Quality"}),(0,s.jsx)(n.td,{children:"128x128"}),(0,s.jsx)(n.td,{children:"High"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"PC VR Maximum"}),(0,s.jsx)(n.td,{children:"256x256"}),(0,s.jsx)(n.td,{children:"Ultra"})]})]})]}),"\n",(0,s.jsx)(n.p,{children:"Mismatched settings waste resources:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-csharp",children:"// Bad: High-res simulation with low-res mesh can't display detail\r\nsimulator.Resolution = OceanResolution._256x256;\r\nrenderer.Quality = QualityLevel.Low;\r\n\r\n// Bad: Low-res simulation with high-res mesh wastes vertices\r\nsimulator.Resolution = OceanResolution._64x64;\r\nrenderer.Quality = QualityLevel.Ultra;\r\n\r\n// Good: Matched settings\r\nsimulator.Resolution = OceanResolution._128x128;\r\nrenderer.Quality = QualityLevel.Medium;\n"})}),"\n",(0,s.jsx)(n.h2,{id:"preset-selection-guide",children:"Preset Selection Guide"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"Is this for Quest standalone?\r\n\u251c\u2500 Yes \u2192 Use Low or Medium\r\n\u2502        \u251c\u2500 72 Hz target \u2192 Medium acceptable\r\n\u2502        \u2514\u2500 90/120 Hz target \u2192 Use Low\r\n\u2514\u2500 No (PC VR)\r\n   \u251c\u2500 GPU: Entry level (GTX 1060, RX 580)\r\n   \u2502  \u2514\u2500 Use Medium\r\n   \u251c\u2500 GPU: Mid-range (RTX 2070, RX 6700)\r\n   \u2502  \u2514\u2500 Use High\r\n   \u2514\u2500 GPU: High-end (RTX 3080+, RX 6900+)\r\n      \u2514\u2500 Use High or Ultra\n"})}),"\n",(0,s.jsx)(n.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,s.jsx)(n.h3,{id:"visible-polygon-edges",children:"Visible Polygon Edges"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Symptom:"})," Can see individual triangles on wave surface"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Solutions:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Increase quality preset"}),"\n",(0,s.jsx)(n.li,{children:"Move camera farther from water"}),"\n",(0,s.jsx)(n.li,{children:"Reduce wave choppiness (smooths the surface)"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"too-many-draw-calls",children:"Too Many Draw Calls"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Symptom:"})," Draw call count exceeds 100"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Solutions:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Reduce quality preset (larger patches = fewer draw calls)"}),"\n",(0,s.jsx)(n.li,{children:"Reduce ocean size"}),"\n",(0,s.jsx)(n.li,{children:"Increase LOD level override (cap subdivision)"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"popping-at-screen-edges",children:"Popping at Screen Edges"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Symptom:"})," Patches appear/disappear at screen edges"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Solutions:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Increase quality preset (higher cull scale)"}),"\n",(0,s.jsx)(n.li,{children:"For custom configs, increase culling bounds manually"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"performance-varies-by-view-direction",children:"Performance Varies by View Direction"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Symptom:"})," Looking down at water is slower than looking at horizon"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Solutions:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"This is expected (more subdivision when looking down)"}),"\n",(0,s.jsx)(n.li,{children:"Reduce quality if the variance is problematic"}),"\n",(0,s.jsx)(n.li,{children:"Use smaller ocean size to cap maximum patches"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"./vr-performance",children:"VR Performance"})," - Platform-specific optimization"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"../components/surface-renderer",children:"Surface Renderer"})," - Component reference"]}),"\n"]})]})}function o(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}}}]);