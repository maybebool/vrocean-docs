"use strict";(globalThis.webpackChunkvrocean_docs=globalThis.webpackChunkvrocean_docs||[]).push([[928],{2114(e,n,t){t.d(n,{A:()=>i});const i=t.p+"assets/images/floating-object-result-1c96cc891ba3d94394f43e2c286bda4e.png"},7171(e,n,t){t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>a,default:()=>h,frontMatter:()=>o,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"getting-started/first-floating-object","title":"First Floating Object","description":"This guide walks through adding buoyancy to a GameObject so it floats on the ocean surface. By the end, you will have a cube bobbing realistically on the waves.","source":"@site/docs/getting-started/first-floating-object.md","sourceDirName":"getting-started","slug":"/getting-started/first-floating-object","permalink":"/vrocean-docs/docs/getting-started/first-floating-object","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"sidebar_position":3,"title":"First Floating Object"},"sidebar":"tutorialSidebar","previous":{"title":"Quick Setup","permalink":"/vrocean-docs/docs/getting-started/quick-setup"},"next":{"title":"Biome Profiles","permalink":"/vrocean-docs/docs/configuration/biome-profiles"}}');var s=t(4848),r=t(8453);const o={sidebar_position:3,title:"First Floating Object"},a="First Floating Object",l={},c=[{value:"Prerequisites",id:"prerequisites",level:2},{value:"Step 1: Create a Test Object",id:"step-1-create-a-test-object",level:2},{value:"Step 2: Add a Rigidbody",id:"step-2-add-a-rigidbody",level:2},{value:"Step 3: Add the Buoyancy Component",id:"step-3-add-the-buoyancy-component",level:2},{value:"Step 4: Assign References",id:"step-4-assign-references",level:2},{value:"Step 5: Enter Play Mode",id:"step-5-enter-play-mode",level:2},{value:"Understanding the Parameters",id:"understanding-the-parameters",level:2},{value:"Flotation Settings",id:"flotation-settings",level:3},{value:"Resistance Settings",id:"resistance-settings",level:3},{value:"Tuning Buoyancy",id:"tuning-buoyancy",level:2},{value:"Object Sinks Completely",id:"object-sinks-completely",level:3},{value:"Object Floats Too High",id:"object-floats-too-high",level:3},{value:"Object Oscillates Wildly",id:"object-oscillates-wildly",level:3},{value:"Object Rotates Uncontrollably",id:"object-rotates-uncontrollably",level:3},{value:"Visualizing Sample Points",id:"visualizing-sample-points",level:2},{value:"Adding Multiple Floating Objects",id:"adding-multiple-floating-objects",level:2},{value:"Code Example: Spawning Floating Debris",id:"code-example-spawning-floating-debris",level:2},{value:"Non-Physics Floating",id:"non-physics-floating",level:2},{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"Object Falls Through Water",id:"object-falls-through-water",level:3},{value:"Object Does Not Move",id:"object-does-not-move",level:3},{value:"Buoyancy Feels Wrong",id:"buoyancy-feels-wrong",level:3},{value:"Performance Issues with Many Objects",id:"performance-issues-with-many-objects",level:3}];function d(e){const n={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"first-floating-object",children:"First Floating Object"})}),"\n",(0,s.jsx)(n.p,{children:"This guide walks through adding buoyancy to a GameObject so it floats on the ocean surface. By the end, you will have a cube bobbing realistically on the waves."}),"\n",(0,s.jsx)(n.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["A working ocean scene (",(0,s.jsx)(n.a,{href:"./quick-setup",children:"Quick Setup"}),")"]}),"\n",(0,s.jsx)(n.li,{children:"The scene is in Play Mode and waves are visible"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"step-1-create-a-test-object",children:"Step 1: Create a Test Object"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["Create a cube via ",(0,s.jsx)(n.code,{children:"GameObject > 3D Object > Cube"})]}),"\n",(0,s.jsx)(n.li,{children:"Position it above the water surface (e.g., Y = 5)"}),"\n",(0,s.jsx)(n.li,{children:"Scale it to a reasonable size (e.g., 1, 0.5, 2 for a plank shape)"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"step-2-add-a-rigidbody",children:"Step 2: Add a Rigidbody"}),"\n",(0,s.jsx)(n.p,{children:"Buoyancy requires physics simulation."}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Select the cube"}),"\n",(0,s.jsxs)(n.li,{children:["Add a Rigidbody component via ",(0,s.jsx)(n.code,{children:"Add Component > Physics > Rigidbody"})]}),"\n",(0,s.jsx)(n.li,{children:"Keep default settings for now"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"step-3-add-the-buoyancy-component",children:"Step 3: Add the Buoyancy Component"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["With the cube selected, click ",(0,s.jsx)(n.code,{children:"Add Component"})]}),"\n",(0,s.jsxs)(n.li,{children:["Search for ",(0,s.jsx)(n.code,{children:"PhysicBasedObjectFloatation"})]}),"\n",(0,s.jsx)(n.li,{children:"Add the component"}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.img,{alt:"Buoyancy Component",src:t(8016).A+"",width:"787",height:"320"}),"\r\n",(0,s.jsx)(n.em,{children:"The PhysicBasedObjectFloatation component with default settings"})]}),"\n",(0,s.jsx)(n.h2,{id:"step-4-assign-references",children:"Step 4: Assign References"}),"\n",(0,s.jsx)(n.p,{children:"The component needs references to function. If they are not auto-assigned:"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Field"}),(0,s.jsx)(n.th,{children:"Assignment"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Ocean Simulator"}),(0,s.jsxs)(n.td,{children:["Drag the ",(0,s.jsx)(n.code,{children:"OceanSimulator"})," GameObject from your scene"]})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Volume Collider"}),(0,s.jsxs)(n.td,{children:["Drag the cube's ",(0,s.jsx)(n.code,{children:"Box Collider"})," component"]})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Body"}),(0,s.jsxs)(n.td,{children:["Drag the cube's ",(0,s.jsx)(n.code,{children:"Rigidbody"})," component"]})]})]})]}),"\n",(0,s.jsxs)(n.p,{children:["Most fields auto-populate when you click the component's context menu and select ",(0,s.jsx)(n.code,{children:"Reset"}),", or when first adding the component."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-csharp",children:"// The Reset method attempts to find these automatically\r\nprivate void Reset() \r\n{\r\n    body = GetComponent<Rigidbody>();\r\n    volumeCollider = GetComponent<Collider>();\r\n    oceanSimulator = FindAnyObjectByType<OceanSimulator>();\r\n}\n"})}),"\n",(0,s.jsx)(n.h2,{id:"step-5-enter-play-mode",children:"Step 5: Enter Play Mode"}),"\n",(0,s.jsx)(n.p,{children:"Press Play. The cube should:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Fall due to gravity"}),"\n",(0,s.jsx)(n.li,{children:"Hit the water surface"}),"\n",(0,s.jsx)(n.li,{children:"Bob and float on the waves"}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.img,{alt:"Floating Cube",src:t(2114).A+"",width:"1292",height:"597"}),"\r\n",(0,s.jsx)(n.em,{children:"A cube floating on the ocean surface"})]}),"\n",(0,s.jsx)(n.h2,{id:"understanding-the-parameters",children:"Understanding the Parameters"}),"\n",(0,s.jsx)(n.h3,{id:"flotation-settings",children:"Flotation Settings"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Parameter"}),(0,s.jsx)(n.th,{children:"Default"}),(0,s.jsx)(n.th,{children:"Description"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Lift Strength"}),(0,s.jsx)(n.td,{children:"1.0"}),(0,s.jsx)(n.td,{children:"Buoyancy force multiplier. Increase for heavier objects or to float higher."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Depth Attenuation"}),(0,s.jsx)(n.td,{children:"11.0"}),(0,s.jsx)(n.td,{children:"Depth in meters over which force ramps from 0% to 100%. Larger values create smoother transitions."})]})]})]}),"\n",(0,s.jsx)(n.h3,{id:"resistance-settings",children:"Resistance Settings"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Parameter"}),(0,s.jsx)(n.th,{children:"Default"}),(0,s.jsx)(n.th,{children:"Description"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Surface Drag"}),(0,s.jsx)(n.td,{children:"0.5"}),(0,s.jsx)(n.td,{children:"Linear drag when above water. Low values allow sliding."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Submerged Drag"}),(0,s.jsx)(n.td,{children:"3.0"}),(0,s.jsx)(n.td,{children:"Linear drag when underwater. Higher values slow sinking."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Surface Angular Drag"}),(0,s.jsx)(n.td,{children:"0.5"}),(0,s.jsx)(n.td,{children:"Rotational resistance above water."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Submerged Angular Drag"}),(0,s.jsx)(n.td,{children:"5.0"}),(0,s.jsx)(n.td,{children:"Rotational resistance underwater. Prevents spinning."})]})]})]}),"\n",(0,s.jsx)(n.h2,{id:"tuning-buoyancy",children:"Tuning Buoyancy"}),"\n",(0,s.jsx)(n.h3,{id:"object-sinks-completely",children:"Object Sinks Completely"}),"\n",(0,s.jsxs)(n.p,{children:["Increase ",(0,s.jsx)(n.code,{children:"Lift Strength"})," until the object floats at the desired height."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-csharp",children:"// Example: Double the buoyancy force\r\nGetComponent<PhysicBasedObjectFloatation>().liftStrength = 2.0f;\n"})}),"\n",(0,s.jsx)(n.h3,{id:"object-floats-too-high",children:"Object Floats Too High"}),"\n",(0,s.jsxs)(n.p,{children:["Decrease ",(0,s.jsx)(n.code,{children:"Lift Strength"})," or increase the Rigidbody's mass."]}),"\n",(0,s.jsx)(n.h3,{id:"object-oscillates-wildly",children:"Object Oscillates Wildly"}),"\n",(0,s.jsxs)(n.p,{children:["Increase ",(0,s.jsx)(n.code,{children:"Depth Attenuation"})," for a smoother force ramp, or increase drag values."]}),"\n",(0,s.jsx)(n.h3,{id:"object-rotates-uncontrollably",children:"Object Rotates Uncontrollably"}),"\n",(0,s.jsxs)(n.p,{children:["Increase ",(0,s.jsx)(n.code,{children:"Submerged Angular Drag"})," to dampen rotational movement."]}),"\n",(0,s.jsx)(n.h2,{id:"visualizing-sample-points",children:"Visualizing Sample Points"}),"\n",(0,s.jsx)(n.p,{children:"The buoyancy component samples the water at 9 fixed points on the bottom of the object's bounds. Enable Gizmos to see these points in the Scene view."}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Select the floating object"}),"\n",(0,s.jsx)(n.li,{children:"Ensure Gizmos are enabled in the Scene view toolbar"}),"\n",(0,s.jsx)(n.li,{children:"The sample points appear as small spheres"}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.img,{alt:"Sample Point Gizmos",src:t(8688).A+"",width:"694",height:"434"}),"\r\n",(0,s.jsx)(n.em,{children:"Gizmo visualization showing the 9 sample points. Blue points are submerged, gray points are above water."})]}),"\n",(0,s.jsx)(n.p,{children:"Points below the water surface appear blue and have force applied. Points above the surface appear gray."}),"\n",(0,s.jsx)(n.h2,{id:"adding-multiple-floating-objects",children:"Adding Multiple Floating Objects"}),"\n",(0,s.jsxs)(n.p,{children:["Each floating object needs its own buoyancy component. For scenes with many floating objects, consider using ",(0,s.jsx)(n.code,{children:"ThreadedPhysicBasedObjectFloatation"})," instead, which uses Burst-compiled jobs for better performance."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-csharp",children:"// For many floating objects, use the threaded variant\r\ngameObject.AddComponent<ThreadedPhysicBasedObjectFloatation>();\n"})}),"\n",(0,s.jsx)(n.h2,{id:"code-example-spawning-floating-debris",children:"Code Example: Spawning Floating Debris"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-csharp",children:"using UnityEngine;\r\nusing PlatypusIdeas.VROcean.Runtime.Scripts.Ocean;\r\nusing PlatypusIdeas.VROcean.Runtime.Scripts.Physics;\r\n\r\npublic class DebrisSpawner : MonoBehaviour\r\n{\r\n    [SerializeField] private GameObject debrisPrefab;\r\n    [SerializeField] private OceanSimulator oceanSimulator;\r\n    [SerializeField] private int spawnCount = 10;\r\n    [SerializeField] private float spawnRadius = 20f;\r\n    [SerializeField] private float spawnHeight = 5f;\r\n\r\n    void Start()\r\n    {\r\n        for (int i = 0; i < spawnCount; i++)\r\n        {\r\n            SpawnDebris();\r\n        }\r\n    }\r\n\r\n    void SpawnDebris()\r\n    {\r\n        // Random position within radius\r\n        Vector2 randomCircle = Random.insideUnitCircle * spawnRadius;\r\n        Vector3 spawnPos = new Vector3(\r\n            transform.position.x + randomCircle.x,\r\n            spawnHeight,\r\n            transform.position.z + randomCircle.y\r\n        );\r\n\r\n        // Instantiate\r\n        GameObject debris = Instantiate(debrisPrefab, spawnPos, Random.rotation);\r\n\r\n        // Ensure buoyancy is configured\r\n        var floatation = debris.GetComponent<PhysicBasedObjectFloatation>();\r\n        if (floatation != null)\r\n        {\r\n            // Assign ocean simulator if not set in prefab\r\n            floatation.oceanSimulator = oceanSimulator;\r\n        }\r\n    }\r\n}\n"})}),"\n",(0,s.jsx)(n.h2,{id:"non-physics-floating",children:"Non-Physics Floating"}),"\n",(0,s.jsxs)(n.p,{children:["If you need an object to float without physics simulation (e.g., a static buoy marker), use ",(0,s.jsx)(n.code,{children:"NonPhysicBasedObjectFloatation"})," instead:"]}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Remove the Rigidbody (not required)"}),"\n",(0,s.jsxs)(n.li,{children:["Add ",(0,s.jsx)(n.code,{children:"NonPhysicBasedObjectFloatation"})," component"]}),"\n",(0,s.jsx)(n.li,{children:"The object will match the water height each frame"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-csharp",children:"using UnityEngine;\r\nusing PlatypusIdeas.VROcean.Runtime.Scripts.Physics;\r\n\r\n// Simple visual floating without physics\r\npublic class FloatingMarker : MonoBehaviour\r\n{\r\n    void Start()\r\n    {\r\n        var floater = gameObject.AddComponent<NonPhysicBasedObjectFloatation>();\r\n        // Object will now follow water surface\r\n    }\r\n}\n"})}),"\n",(0,s.jsx)(n.p,{children:"This approach is more performant but does not simulate realistic physics interactions."}),"\n",(0,s.jsx)(n.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,s.jsx)(n.h3,{id:"object-falls-through-water",children:"Object Falls Through Water"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Verify ",(0,s.jsx)(n.code,{children:"Ocean Simulator"})," reference is assigned"]}),"\n",(0,s.jsx)(n.li,{children:"Confirm the ocean is running (waves visible in Play Mode)"}),"\n",(0,s.jsx)(n.li,{children:"Check that the collider bounds are reasonable"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"object-does-not-move",children:"Object Does Not Move"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Ensure a ",(0,s.jsx)(n.code,{children:"Rigidbody"})," component is attached"]}),"\n",(0,s.jsxs)(n.li,{children:["Verify the Rigidbody is not set to ",(0,s.jsx)(n.code,{children:"Is Kinematic"})]}),"\n",(0,s.jsxs)(n.li,{children:["Check that ",(0,s.jsx)(n.code,{children:"Lift Strength"})," is greater than 0"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"buoyancy-feels-wrong",children:"Buoyancy Feels Wrong"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"The 9-point sampling works best for box-shaped objects"}),"\n",(0,s.jsxs)(n.li,{children:["For complex shapes, try ",(0,s.jsx)(n.code,{children:"ThreadedPhysicBasedObjectFloatation"})," with higher ",(0,s.jsx)(n.code,{children:"Grid Resolution"})]}),"\n",(0,s.jsxs)(n.li,{children:["Very small or very large objects may need adjusted ",(0,s.jsx)(n.code,{children:"Lift Strength"})]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"performance-issues-with-many-objects",children:"Performance Issues with Many Objects"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Switch to ",(0,s.jsx)(n.code,{children:"ThreadedPhysicBasedObjectFloatation"})," for Burst-compiled sampling"]}),"\n",(0,s.jsx)(n.li,{children:"Reduce the number of floating objects"}),"\n",(0,s.jsxs)(n.li,{children:["See ",(0,s.jsx)(n.a,{href:"../optimization/vr-performance",children:"VR Performance Guide"})]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},8016(e,n,t){t.d(n,{A:()=>i});const i=t.p+"assets/images/floating-object-component-000bdbcfbe7841eefcb9c892a09de276.png"},8453(e,n,t){t.d(n,{R:()=>o,x:()=>a});var i=t(6540);const s={},r=i.createContext(s);function o(e){const n=i.useContext(r);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),i.createElement(r.Provider,{value:n},e.children)}},8688(e,n,t){t.d(n,{A:()=>i});const i=t.p+"assets/images/floating-object-gizmos-689bd1b8e1263b9b969b93702a3f0ebe.png"}}]);